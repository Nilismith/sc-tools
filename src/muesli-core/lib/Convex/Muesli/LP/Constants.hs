{-# LANGUAGE DerivingStrategies #-}
{-# LANGUAGE LambdaCase         #-}
{-# LANGUAGE OverloadedStrings  #-}
{-# LANGUAGE TypeApplications   #-}
{-| Contracts related to the liquidity pool DEX
-}
module Convex.Muesli.LP.Constants(
  ScriptType(..),
  scriptType,
  -- * Batch order script
  batchOrderScript,
  -- * Factory minting policy
  factoryMintingPolicy,
  nftMintingPolicy,
  lpMintingPolicy,
  poolScript
) where

import           Cardano.Api            (Lovelace, PlutusScript, PlutusScriptV2,
                                         Quantity, ScriptHash)
import qualified Cardano.Api.Shelley    as C
import           Control.Applicative    (Alternative (..))
import           Convex.Muesli.LP.Types (Pair, PairFromOutputError,
                                         pairFromOutput)
import           Convex.Utils           (unsafeScriptFromCbor)
import           Data.Bifunctor         (Bifunctor (..))
import           Data.Map               (Map)
import qualified Data.Map               as Map

batchOrderScript :: PlutusScript PlutusScriptV2
batchOrderScript = unsafeScriptFromCbor "590a55590a52010000332323322323232332232323232323232323233223232323232323232323222323232323232323223223232533533322253350021533533355302c1200122533553353355031235001223350022502323502400135002222200421333573466e3c0540040b00ac40a84cd40bc008004400540b8cc88c8c004c8d4004888888888888030c05c010c8004d540c8894cd4004400c884c8cc01cd400c88004004c01000540b540b840a08854cd400440ac8840b04cd540bcc88d40088888888888894cd4ccd54c08448004c848cc004894cd40088400c400400940ac94cd4ccd5cd19b8f00e00103803713502d0011502c0042103810363014001335502f2350012233500220012635003222222220083333573466e1cd55cea806a400046666666644444444246666666600201201000e00c00a00800600460326ae854034c064d5d0a80619a80d3ae35742a01664646464646666ae68cdc3a800a40084664424446600400a0086464646666ae68cdc39aab9d5002480008cd54088dd71aba15002375c6ae84d5d1280111931901819ab9c03303202e135573ca00226ea8004d5d0a8019bad357426ae89400c8cccd5cd19b875002480088cc884888cc004014010dd69aba15005375a6ae84d5d1280291999ab9a3370ea0069000119091118018021bad357426aae79401c8c98c80b8cd5ce01881801601581509aab9d5003135573ca00426aae7940044dd50009aba1500a375a6ae854024dd69aba15008375c6ae85401cdd71aba135744a00e464c6404c66ae700a40a0090cccd5cd19b8750044800884880048cccd5cd19b8750054800084880088c98c809ccd5ce0150148128121999ab9a3370e6aae7540092000233221233001003002323232323232323232323232323333573466e1cd55cea8062400046666666666664444444444442466666666666600201a01801601401201000e00c00a00800600466a0420446ae854030cd4084088d5d0a80599a8108119aba1500a3335502575ca0486ae854024ccd54095d728121aba1500833502102e35742a00e666aa04a05eeb4d5d0a8031919191999ab9a3370e6aae75400920002332212330010030023232323333573466e1cd55cea8012400046644246600200600466a072eb4d5d0a801181d1aba135744a004464c6407866ae700fc0f80e84d55cf280089baa00135742a0046464646666ae68cdc39aab9d5002480008cc8848cc00400c008cd40e5d69aba15002303a357426ae8940088c98c80f0cd5ce01f81f01d09aab9e5001137540026ae84d5d1280111931901c19ab9c03b03a036135573ca00226ea8004d5d0a80299a810bae35742a008666aa04a05640026ae85400cccd54095d710009aba15002302d357426ae8940088c98c80d0cd5ce01b81b01909aba25001135744a00226ae8940044d5d1280089aba25001135744a00226ae8940044d5d1280089aba25001135744a00226aae7940044dd50009aba15002301d357426ae8940088c98c8098cd5ce014814012081389931901299ab9c4910350543500027135573ca00226ea80044d55ce9baa001135744a00226ae8940044d5d1280089aba25001135744a00226ae8940044d55cf280089baa0013200135501d2211222533500113500322001221333500522002300400233355300712001005004001235001220021232230023758002640026aa038446666aae7c004940748cd4070c010d5d080118019aba2002018232323333573466e1cd55cea80124000466442466002006004601c6ae854008c014d5d09aba2500223263201633573803203002826aae7940044dd50009191919191999ab9a3370e6aae7540112000233332222123333001005004003002300a35742a008666aa010eb9401cd5d0a8019919191999ab9a3370ea0029002119091118010021aba135573ca00646666ae68cdc3a80124004464244460020086eb8d5d09aab9e500423333573466e1d400d20002122200323263201d33573804003e03603403226aae7540044dd50009aba1500233500b75c6ae84d5d1280111931900b99ab9c01a019015135744a00226ae8940044d55cf280089baa0011335500175ceb44488c88c008dd5800990009aa80c91191999aab9f0022501b233501a3355007300635573aa004600a6aae794008c010d5d100180b09aba100111221233001003002232323333573466e1cd55cea80124000466442466002006004601a6ae854008cd4014030d5d09aba2500223263201133573802802601e26aae7940044dd500089119191999ab9a3370ea002900011a80398029aba135573ca00646666ae68cdc3a801240044a00e464c6402466ae7005405004003c4d55cea80089baa0011212230020031122001232323333573466e1d400520062321222230040053007357426aae79400c8cccd5cd19b875002480108c848888c008014c024d5d09aab9e500423333573466e1d400d20022321222230010053007357426aae7940148cccd5cd19b875004480008c848888c00c014dd71aba135573ca00c464c6402066ae7004c04803803403002c4d55cea80089baa001232323333573466e1cd55cea80124000466442466002006004600a6ae854008dd69aba135744a004464c6401866ae7003c0380284d55cf280089baa0012323333573466e1cd55cea800a400046eb8d5d09aab9e500223263200a33573801a01801026ea80048c8c8c8c8c8cccd5cd19b8750014803084888888800c8cccd5cd19b875002480288488888880108cccd5cd19b875003480208cc8848888888cc004024020dd71aba15005375a6ae84d5d1280291999ab9a3370ea00890031199109111111198010048041bae35742a00e6eb8d5d09aba2500723333573466e1d40152004233221222222233006009008300c35742a0126eb8d5d09aba2500923333573466e1d40192002232122222223007008300d357426aae79402c8cccd5cd19b875007480008c848888888c014020c038d5d09aab9e500c23263201333573802c02a02202001e01c01a01801626aae7540104d55cf280189aab9e5002135573ca00226ea80048c8c8c8c8cccd5cd19b875001480088ccc888488ccc00401401000cdd69aba15004375a6ae85400cdd69aba135744a00646666ae68cdc3a80124000464244600400660106ae84d55cf280311931900619ab9c00f00e00a009135573aa00626ae8940044d55cf280089baa001232323333573466e1d400520022321223001003375c6ae84d55cf280191999ab9a3370ea004900011909118010019bae357426aae7940108c98c8024cd5ce00600580380309aab9d50011375400224464646666ae68cdc3a800a40084244400246666ae68cdc3a8012400446424446006008600c6ae84d55cf280211999ab9a3370ea00690001091100111931900519ab9c00d00c008007006135573aa00226ea80048c8cccd5cd19b8750014800880188cccd5cd19b8750024800080188c98c8018cd5ce00480400200189aab9d37540029309100109100089000a49035054310032001355004221122253350011002221330050023335530071200100500400111220021221223300100400311223002001112323001001223300330020020014891c7045237d1eb0199c84dffe58fe6df7dc5d255eb4d418e4146d5721f80001"

factoryMintingPolicy :: PlutusScript PlutusScriptV2
factoryMintingPolicy = unsafeScriptFromCbor "5912c35912c00100003323322323322323232323232323232333222323232323232323232323232323232323232323232323232323322323232323232323232322232232325335332232350092322232232323232323232323232323232323232323501a253353332350012222222200632323333333350482235004222222223500a223500b2253353300c0040021333500f22222222008003001106633550460020012253335333355048004003002001105a105a105b2253335333355048004003002001105b105a105b2253335333355048004003002001105a105b105a2253335333355048004003002001105b105b105a2253335333355048004003002001100110021001225333533335504800400300200110021001100233333333504704104403e03d04003f04304233333333504604004303d03c03f03e0420415007500815335333573466e1cd5402c88ccc09004c008004cdc0801240280ae0ac2a66a666ae68cdc39a805111100100102b82b0a99a999ab9a3371200c900002b02b8a99a999ab9a3371200a900002b02b8a99a9919191919191919299aa8018a99aa8028999ab9a3370ea02a900502f82f0a8008a8008a99aa8010a8008a99aa8020999ab9a3370ea028900402f02e8a8008a99aa8008a99aa8018999ab9a3370ea026900502e82e0999ab9a3370ea026900602e82e0999ab9a3370ea026900502e82e0999ab9a337126a0024466605202a004002900002d82e280789a80191299a999ab9a3371e0040780b80b62a66a666ae68cdc780081e02e02d882e0a8018a80189a80091299a999ab9a3371e0040760b60b42666ae68cdc780081d82d82d082d2804a8038a99a999ab9a3370e6a01844666048026004002900102b82b0a99a999ab9a3370e6aa02844666048026004002900102b82b0a99a999ab9a3370e6aa02844666048020004002900102b82b0a99a9a9aa80c9111111111110029119191a800911a80291919191912999aa999a80410a999a80390a999a805109802a4c26008930a999a804109802a4c2600893082b882a8a999a804909802a4c26008930a999a803909802a4c2600893082b0a999a8031082a082a88298a999a80310a999a80490980324c2600a930a999a80390980324c2600a93082b082a0a999a80410980324c2600a930a999a80310980324c2600a93082a8a99a8038a99a8008831083188310831883112999a80290a999a80410a999a80390999a8298060010008b0b0b082a0a999a80390a999a80310999a8290058010008b0b0b0829882912999a80210a999a80390a999a80310999a8290058010008b0b0b08298a999a80310a999a80290999a8288050010008b0b0b0829082892999a80190a999a80310a999a80290999a8288050010008b0b0b08290a999a80290a999a80210999a8280048010008b0b0b0828882812999a80110a999a80290a999a80210999a8280048010008b0b0b08288a999a80210a999a80190999a8278040010008b0b0b0828082799a8141a81c19191919800a40009000190009aa82e911299a999ab9a3370e0046e3401017c17840044cc00ccdc00012400466e00cdc1000a41000866e38010008c058d400488d4004888800ccd4c13448004d54070888888888888030010168cccccccd412088ccd5cd19b8700200105b05a225335333573466e1c00800416c168413454cd4ccd5cd19b8900200105b05a104b104c22333573466e2000800416c16888ccd5cd19b8900200105b05a22333573466e2400800416816c88ccd5cd19b8800200105a05b225335333573466e2400800416c16840044008894cd4ccd5cd19b8900200105b05a1002100115335333573466e21402520020560571333573466e25402520a09c01057056105610561056105610561056105610561056105610565335333573466e20cdc12800a800a80102a82a099b80500148008540044c8c94cd4ccd5cd19b88002480001581545854cd4ccd5cd19b87002480001581545200015335333573466e1c009200205605514800854cd4ccd5cd19b8700248010158154520021330010023370066e0c009200448008c8004d541588894cd4ccd5cd19b880010020580571330030013370666e00cdc1802000800a40082004a002266e08008004d5400c88ccc07c02c008004d5400488ccc0780280080044d400c88880104d4008888800c4d40048888004c8d401888894ccd40085884c1200048c854cd4d401c888888888888c03400884c12800458c8004d54150894cd4004540a8884d4008894cd4ccd5cd19b8f00200705905813502f00113006003500f1335504a00b3500122001300b00213322333355002323350312233350320030010023502f00133503022230033002001200122337000029001000a400060562400266088a08e0026a0024444006a66a6a02a244666aa02c44a66a6a0044444a666a004209e420a2420a226600800400220020020062c442a66a0022004442c6aa0124444444444440146aa010444444444444010640026aa08c44a66a0022c4426a00444a66a666ae68cdc78010038258250a99a8008b1109a80111299a8018801110b09803001899aa8209a803111999a80091931901f19ab9c4901024c680003e200123263203e3357389201024c680003e23263203e3357389201024c680003e001320013550412253350011622135002225335333573466e3c00801c11811454cd4d404c488ccd5405088d4008894cd4ccd5cd19b870014800813012c4cc01801000c400c00400c58884d4008894cd400c4cd5412002c00888584c01800c4d400488008cccd5cd19b8735573aa00890001190918008011bad357426aae7940148c98c80d4cd5ce01b01a8199999ab9a3370e6aae7540092000233221233001003002323232323232323232323232323333573466e1cd55cea8062400046666666666664444444444442466666666666600201a01801601401201000e00c00a00800600466a0340366ae854030cd406806cd5d0a80599a80d00e1aba1500a3335501e75ca03a6ae854024ccd54079d7280e9aba1500833501a02535742a00e666aa03c04ceb4d5d0a8031919191999ab9a3370e6aae75400920002332212330010030023232323333573466e1cd55cea8012400046644246600200600466a060eb4d5d0a80118191aba135744a004464c6409666ae7013012c1244d55cf280089baa00135742a0046464646666ae68cdc39aab9d5002480008cd4084cd40c1d69aba150023032357426ae8940088c98c812ccd5ce02602582489aab9e5001137540026ae84d5d1280111931902399ab9c048047045135573ca00226ea8004d5d0a80299a80d3ae35742a008666aa03c04440026ae85400cccd54079d710009aba150023024357426ae8940088c98c810ccd5ce02202182089aba25001135744a00226ae8940044d5d1280089aba25001135744a00226ae8940044d5d1280089aba25001135744a00226aae7940044dd50009aba150023014357426ae8940088c98c80d4cd5ce01b01a819881a09a81824810350543500135573ca00226ea80044dd500091119191800802990009aa81d1119a800a4000446a00444a66a666ae68cdc780100481f81f0980380089803001990009aa81c9119a800a4000446a00444a66a666ae68cdc780100381f01e880089803001889119000990009aa81b91299a80088019109980300118020008919a800a818281889109198008018010919118011bac001320013550332233335573e0024a064466a06260086ae84008c00cd5d1001016119191999ab9a3370e6aae7540092000233221233001003002300c35742a004600a6ae84d5d1280111931901619ab9c02d02c02a135573ca00226ea80048c8c8c8c8cccd5cd19b8735573aa00890001199991110919998008028020018011919191999ab9a3370e6aae7540092000233221233001003002301535742a00466a01a0286ae84d5d1280111931901899ab9c03203102f135573ca00226ea8004d5d0a802199aa8043ae500735742a0066464646666ae68cdc3a800a4008464244460040086ae84d55cf280191999ab9a3370ea0049001119091118008021bae357426aae7940108cccd5cd19b875003480008488800c8c98c80cccd5ce01a01981881801789aab9d5001137540026ae854008cd4025d71aba135744a004464c6405a66ae700b80b40ac4d5d1280089aba25001135573ca00226ea80044cd54005d73ad112232230023756002640026aa06044646666aae7c008940c08cd40bccd540c4c018d55cea80118029aab9e500230043574400605426ae84004488c8c8cccd5cd19b875001480008d401cc014d5d09aab9e500323333573466e1d400920022500723263202a33573805605405004e26aae7540044dd50008909118010018891000919191999ab9a3370ea002900311909111180200298039aba135573ca00646666ae68cdc3a8012400846424444600400a60126ae84d55cf280211999ab9a3370ea006900111909111180080298039aba135573ca00a46666ae68cdc3a8022400046424444600600a6eb8d5d09aab9e500623263202833573805205004c04a04804626aae7540044dd5000919191999ab9a3370e6aae7540092000233221233001003002300535742a0046eb4d5d09aba2500223263202433573804a04804426aae7940044dd50009191999ab9a3370e6aae75400520002375c6ae84d55cf280111931901119ab9c02302202013754002464646464646666ae68cdc3a800a401842444444400646666ae68cdc3a8012401442444444400846666ae68cdc3a801a40104664424444444660020120106eb8d5d0a8029bad357426ae8940148cccd5cd19b875004480188cc8848888888cc008024020dd71aba15007375c6ae84d5d1280391999ab9a3370ea00a900211991091111111980300480418061aba15009375c6ae84d5d1280491999ab9a3370ea00c900111909111111180380418069aba135573ca01646666ae68cdc3a803a400046424444444600a010601c6ae84d55cf280611931901599ab9c02c02b029028027026025024023135573aa00826aae79400c4d55cf280109aab9e5001137540024646464646666ae68cdc3a800a4004466644424466600200a0080066eb4d5d0a8021bad35742a0066eb4d5d09aba2500323333573466e1d4009200023212230020033008357426aae7940188c98c8090cd5ce01281201101089aab9d5003135744a00226aae7940044dd5000919191999ab9a3370ea002900111909118008019bae357426aae79400c8cccd5cd19b875002480008c8488c00800cdd71aba135573ca008464c6404266ae7008808407c0784d55cea80089baa00112232323333573466e1d400520042122200123333573466e1d400920022350073006357426aae7940108cccd5cd19b87500348000848880088c98c8088cd5ce01181101000f80f09aab9d50011375400224244460060084646666ae68cdc3a800a4004404846666ae68cdc3a801240004048464c6403a66ae7007807406c0684d55ce9baa00148810032001355020221122253350011350060032213335009005300400233355300712001005004001123500122001123500122002122123300100300222333573466e4400800407407088ccd5cd19b9000200101c01b22333573466e4000800406806c88ccd5cd19b9100200101901a22333573466e3c008004064060894cd4ccd5cd19b9100200101801710021001225335333573466e4400800405c05840044008894cd4ccd5cd19b8f002001016015100815335333573466e440080040580544018401c448888d400888d400c8c894ccd4ccd402802401400c4ccd402802001000454008540084ccd402001c00c00448d40048888888801c48888888848cccccccc00402402001c01801401000c008488800c48880084888004c8004d54038884894cd4ccd5cd19b88001480000440404d4015241035054360015335002135005490103505437002215335333573466e1c00d200001301210021335300612001001337020069001091931900299ab9c0010052323232323333573466e1cd55cea8022400046666444424666600200a008006004666aa00eeb9d71aba150043335500775ceb8d5d0a8019bad35742a0046eb4d5d09aba2500223263200933573801401200e26ae8940044d5d1280089aab9e5001137540022244464646666ae68cdc39aab9d5002480008cd54038c018d5d0a80118029aba135744a004464c6401066ae700240200184d55cf280089baa001498480052401035054310032001355007222533500110022213500222330073330080020060010033200135500622225335001100222135002225335333573466e1c005200000d00c1333008007006003133300800733500912333001008003002006003112200212212233001004003112212330010030021220021220011123230010012233003300200200133512233330024891c909133088303c49f3a30f1cc8ed553a73857a29779f6c6561cd8093f0048811caf3d70acf4bd5b3abb319a7d75c89fb3e56eafcdd46b2e9b57a2557f0048810e4d7565736c69537761705f414d4d0048811ced8074e8768199746ee58aed1f8b005eaa812afa44a268230603e96900222212333300100500400300220011"

lpMintingPolicy :: PlutusScript PlutusScriptV2
lpMintingPolicy = unsafeScriptFromCbor "59091b59091801000033233223233223232323232323232323232323233223232323232322322232325335330050043333573466e1cd55cea80124000466442466002006004646464646464646464646464646666ae68cdc39aab9d500c480008cccccccccccc88888888888848cccccccccccc00403403002c02802402001c01801401000c008cd405805cd5d0a80619a80b00b9aba1500b33501601835742a014666aa034eb94064d5d0a804999aa80d3ae501935742a01066a02c0426ae85401cccd54068089d69aba150063232323333573466e1cd55cea801240004664424660020060046464646666ae68cdc39aab9d5002480008cc8848cc00400c008cd40b1d69aba15002302d357426ae8940088c98c80bccd5ce01801781689aab9e5001137540026ae854008c8c8c8cccd5cd19b8735573aa004900011991091980080180119a8163ad35742a004605a6ae84d5d1280111931901799ab9c03002f02d135573ca00226ea8004d5d09aba2500223263202b33573805805605226aae7940044dd50009aba1500533501675c6ae854010ccd540680788004d5d0a801999aa80d3ae200135742a00460406ae84d5d1280111931901399ab9c028027025135744a00226ae8940044d5d1280089aba25001135744a00226ae8940044d5d1280089aba25001135744a00226ae8940044d55cf280089baa00135742a00460206ae84d5d1280111931900c99ab9c01a01901710181326320183357389210350543500018135573ca00226ea8004c888c8c8c8c8ccd5cd19b8f5335350201223335501e225335533500221024102213300453350022100116001100100135022122333550202233004300d350022222003001001350241223335502222533535002222253335002102a2102c2102c13300400200110010010081622153350011533535022122333550202235002225335333573466e1c005200202702613300600400310030010041622135002225335003100222162216533530040012153350011622135002225335003100222161601f01e35500222222222222200835500122222222222200a135002220023200135501f2253350011500d221350022253353301f00235007223333500123263201f3357389201024c680001f200123263201f3357389201024c680001f23263201f3357389201024c680001f135012001130060033200135501c2253350011500a221350022253353301c00200713500f001130060031232230023758002640026aa036446666aae7c004940748cd4070c010d5d080118019aba2002014232323333573466e1cd55cea8012400046644246600200600460186ae854008c014d5d09aba2500223263201433573802a02802426aae7940044dd50009191919191999ab9a3370e6aae75401120002333322221233330010050040030023232323333573466e1cd55cea80124000466442466002006004602a6ae854008cd4034050d5d09aba2500223263201933573803403202e26aae7940044dd50009aba150043335500875ca00e6ae85400cc8c8c8cccd5cd19b875001480108c84888c008010d5d09aab9e500323333573466e1d4009200223212223001004375c6ae84d55cf280211999ab9a3370ea00690001091100191931900d99ab9c01c01b019018017135573aa00226ea8004d5d0a80119a804bae357426ae8940088c98c8054cd5ce00b00a80989aba25001135744a00226aae7940044dd5000899aa800bae75a224464460046eac004c8004d5406088c8cccd55cf8011280d919a80d1991091980080180118031aab9d5002300535573ca00460086ae8800c0484d5d080089119191999ab9a3370ea002900011a80398029aba135573ca00646666ae68cdc3a801240044a00e464c6402466ae7004c04804003c4d55cea80089baa0011212230020031122001232323333573466e1d400520062321222230040053007357426aae79400c8cccd5cd19b875002480108c848888c008014c024d5d09aab9e500423333573466e1d400d20022321222230010053007357426aae7940148cccd5cd19b875004480008c848888c00c014dd71aba135573ca00c464c6402066ae7004404003803403002c4d55cea80089baa001232323333573466e1cd55cea80124000466442466002006004600a6ae854008dd69aba135744a004464c6401866ae700340300284d55cf280089baa0012323333573466e1cd55cea800a400046eb8d5d09aab9e500223263200a33573801601401026ea80048c8c8c8c8c8cccd5cd19b8750014803084888888800c8cccd5cd19b875002480288488888880108cccd5cd19b875003480208cc8848888888cc004024020dd71aba15005375a6ae84d5d1280291999ab9a3370ea00890031199109111111198010048041bae35742a00e6eb8d5d09aba2500723333573466e1d40152004233221222222233006009008300c35742a0126eb8d5d09aba2500923333573466e1d40192002232122222223007008300d357426aae79402c8cccd5cd19b875007480008c848888888c014020c038d5d09aab9e500c23263201333573802802602202001e01c01a01801626aae7540104d55cf280189aab9e5002135573ca00226ea80048c8c8c8c8cccd5cd19b875001480088ccc888488ccc00401401000cdd69aba15004375a6ae85400cdd69aba135744a00646666ae68cdc3a80124000464244600400660106ae84d55cf280311931900619ab9c00d00c00a009135573aa00626ae8940044d55cf280089baa001232323333573466e1d400520022321223001003375c6ae84d55cf280191999ab9a3370ea004900011909118010019bae357426aae7940108c98c8024cd5ce00500480380309aab9d50011375400224464646666ae68cdc3a800a40084244400246666ae68cdc3a8012400446424446006008600c6ae84d55cf280211999ab9a3370ea00690001091100111931900519ab9c00b00a008007006135573aa00226ea80048c8cccd5cd19b8750014800880288cccd5cd19b8750024800080288c98c8018cd5ce00380300200189aab9d37540029309000a481035054310011223200132001355009225335001100322133006002300400122333573466e3c00800401000c48800848800448cd40054009400c4488008488488cc00401000c448c8c00400488cc00cc00800800522011c909133088303c49f3a30f1cc8ed553a73857a29779f6c6561cd8093f0001"

nftMintingPolicy :: PlutusScript PlutusScriptV2
nftMintingPolicy = unsafeScriptFromCbor "590958590955010000323232323322323232323232323232323322323232323232323232322232325335323232350032253353235001222222222222333553017120013232123300122333500522002002001002350012200112330012253350021031100102e25335333573466e3c040d400488d4008880080bc0b84ccd5cd19b8700f3500122350022200102f02e102e00c500313232350012232300100532001355029225335001102622135002225335333573466e3c0080200ac0a84ccd4c0544800488d400888d400c894cd4ccd5cd19b8f0040020310301333573466e1c00c0040c40c040c0004cc88cc008cd540880252002001501e501f1300600333550173500522333350012326320273357389201024c680002720012326320273357389201024c68000272326320273357389201024c68000273500622372466e28008c03c004d5400c88888888888802040804d400488008cccd5cd19b8735573aa0069000119910919800801801191919191919191919191919191999ab9a3370e6aae754031200023333333333332222222222221233333333333300100d00c00b00a00900800700600500400300233501a01b35742a01866a0340366ae85402ccd4068070d5d0a805199aa80f3ae501d35742a012666aa03ceb94074d5d0a80419a80d0131aba150073335501e02775a6ae854018c8c8c8cccd5cd19b8735573aa00490001199109198008018011919191999ab9a3370e6aae754009200023322123300100300233503175a6ae854008c0c8d5d09aba2500223263203633573806e06c06826aae7940044dd50009aba150023232323333573466e1cd55cea8012400046644246600200600466a062eb4d5d0a80118191aba135744a004464c6406c66ae700dc0d80d04d55cf280089baa001357426ae8940088c98c80c8cd5ce01981901809aab9e5001137540026ae854014cd4069d71aba150043335501e023200135742a006666aa03ceb88004d5d0a80118129aba135744a004464c6405c66ae700bc0b80b04d5d1280089aba25001135744a00226ae8940044d5d1280089aba25001135744a00226ae8940044d5d1280089aba25001135573ca00226ea8004d5d0a801980a9aba135744a006464c6404066ae70084080078c05001040784c98c8078cd5ce2481035054350001e135573ca00226ea8004c8004d5406c88448894cd40044d400c88004884ccd401488008c010008ccd54c01c48004014010004c8004d540688848894cd400854cd4004406c8840708854cd400c40708854cd4cc01c0100084ccd4c0244800401c00c0044078c8004d54064894cd4ccd5cd19b880014800005c0584cdc5a40b4600466e05200000115335333573466e1ccdc2000a4028900000b80b099b8b33700002006008266e28c008cdc2000a402866e2ccdc019b850014805000c0112060489001232230023758002640026aa02e446666aae7c004940288cd4024c010d5d080118019aba2002017232323333573466e1cd55cea80124000466442466002006004601a6ae854008c014d5d09aba2500223263201733573803002e02a26aae7940044dd50009191919191999ab9a3370e6aae75401120002333322221233330010050040030023232323333573466e1cd55cea80124000466442466002006004602c6ae854008cd4040054d5d09aba2500223263201c33573803a03803426aae7940044dd50009aba150043335500875ca00e6ae85400cc8c8c8cccd5cd19b875001480108c84888c008010d5d09aab9e500323333573466e1d4009200223212223001004375c6ae84d55cf280211999ab9a3370ea00690001091100191931900f19ab9c01f01e01c01b01a135573aa00226ea8004d5d0a80119a8063ae357426ae8940088c98c8060cd5ce00c80c00b09aba25001135744a00226aae7940044dd5000899aa800bae75a224464460046eac004c8004d5405088c8cccd55cf80112804119a80399aa80498031aab9d5002300535573ca00460086ae8800c0544d5d08008891001091091198008020018891091980080180109119191999ab9a3370ea0029000119091180100198029aba135573ca00646666ae68cdc3a801240044244002464c6402466ae7004c04804003c4d55cea80089baa001232323333573466e1d400520062321222230040053007357426aae79400c8cccd5cd19b875002480108c848888c008014c024d5d09aab9e500423333573466e1d400d20022321222230010053007357426aae7940148cccd5cd19b875004480008c848888c00c014dd71aba135573ca00c464c6402466ae7004c04804003c0380344d55cea80089baa001232323333573466e1cd55cea80124000466442466002006004600a6ae854008dd69aba135744a004464c6401c66ae7003c0380304d55cf280089baa0012323333573466e1cd55cea800a400046eb8d5d09aab9e500223263200c33573801a01801426ea80048c8c8c8c8c8cccd5cd19b8750014803084888888800c8cccd5cd19b875002480288488888880108cccd5cd19b875003480208cc8848888888cc004024020dd71aba15005375a6ae84d5d1280291999ab9a3370ea00890031199109111111198010048041bae35742a00e6eb8d5d09aba2500723333573466e1d40152004233221222222233006009008300c35742a0126eb8d5d09aba2500923333573466e1d40192002232122222223007008300d357426aae79402c8cccd5cd19b875007480008c848888888c014020c038d5d09aab9e500c23263201533573802c02a02602402202001e01c01a26aae7540104d55cf280189aab9e5002135573ca00226ea80048c8c8c8c8cccd5cd19b875001480088ccc888488ccc00401401000cdd69aba15004375a6ae85400cdd69aba135744a00646666ae68cdc3a80124000464244600400660106ae84d55cf280311931900719ab9c00f00e00c00b135573aa00626ae8940044d55cf280089baa001232323333573466e1d400520022321223001003375c6ae84d55cf280191999ab9a3370ea004900011909118010019bae357426aae7940108c98c802ccd5ce00600580480409aab9d50011375400224464646666ae68cdc3a800a40084244400246666ae68cdc3a8012400446424446006008600c6ae84d55cf280211999ab9a3370ea00690001091100111931900619ab9c00d00c00a009008135573aa00226ea80048c8cccd5cd19b8750014800880148cccd5cd19b8750024800080148c98c8020cd5ce00480400300289aab9d37540022440042440029309000a4810350543100112323001001223300330020020011"

poolScript :: PlutusScript PlutusScriptV2
poolScript = unsafeScriptFromCbor "59249e59249b01000033232323232332232323233223233223232323232323322323233223232323232323232323233322232323232323232323232323232323232323232323232323233223232323232323232333222323232323232323232323232323232323232323232323232323232323232323232222323232253353353333573466e1d400920022321223001003375a6ae84d55cf280291999ab9a3370ea00690001199109119801002001982d1aba15005375a6ae84d5d1280291931903a19ab9c075074072071223232323500c2222235008222232323232323232323232323233055333303801000f5008002330553323355304b12001350515053306000153353501a223350022350790012507821001163235001222222222222004501633055333503d5040335505b200133030335305c1200100701901230245016330553332001505a50093302c00201533055330593303900a01348008cc154cc164cc0e400804d20023305533059330393026501650083302a500300e330553330013502e1223335502f22533533059333506803b306400230640103335068505c3027302c00201e13300400200110010010093502e1223335502f225335330593335068505c302700230270093335068505c302700201e1330040020011001001008333355550653303900a0103303900a00f00e3303900a5008330553332001505a010323500122220045004330553332001505a00f3235001222200350043305900d3235001222200150043200135508e01222253350031533500213500122223305c33060004330400090173305c33060003330400090163305c33060002500a3306000133040009500f22162215335004162215335007162323221533500a1622133300e0030013235333503d507450065024222222225335330693305c00448000cc1a4cc17000d2000333507a075303f501e0021613335005235500e222222223501d22223501822223503f222232323232323232323232323253353308c013307950030213308c0153353307800c500215335333200150910100f50990113308c01330900133070013509901333200150a3013306100c500201b330900133070013503f500313308c0133090013307001350990101b3308c01330900133070013503f500333090013306100c50023307001300f153353307800a500115335333200150910101050990113308c01330900133070013509901333200150a3013306100a500101b330900133070013503f500313308c0133090013307001350990101b3308c01330900133070013503f500333090013306100a50013307001301013308c01330900133070013503f500333090013307001350990101b3308c013332001508f0101401f330950101201e13333555509c01333200150a3010185001333200150a3010175002333200150a30101650030151613550032220031355002222002135500122200113553355335333573466e25400520000bc010bd0115335333573466e25400920000bc010bd0115335333573466e25401120000bc010bd011350a90133355506f500150025004150a801150a801150a801210011622233355507200300200113550022200213550012200115335333573466e25400940102e4042e8044cd542ac04cdc199b8200501101000515335333573466e21400940102e8042e4044cd542ac0400ccdc199b82003010011133550ab0100300515335333573466e254005400c2e4042e004540045400c4cdc199b8200100d00f53353332001508701006508f0113305733066020006333200150990101201113306602000613370666e0800402c0314cd4ccc800542140400d4234044cc154cc19007800cccc8005425c0404003c4cc19007800c88d5403c88888888d40788888d40648888d410088c8c8c8c888c8c8c8c8c8c94cd4cc22c04cc1e000407ccc22c04cc22c04cc23c04cc1bc04540f8004cc23c04cc1bc045426004064cc22c04ccc8005423804048074cc250040400704cccd555426c04d5401488008d5401488004ccc800542880405000404c58cd425804ccc800541f400404ccc17d4028004c8c8cdc199b8250030013370066e0800920a09c015003500a500813370400266e0520a09c0100432323370666e04c8c94cd4ccd5cd19b8800248000300042fc045854cd4ccd5cd19b8700248000300042fc045200015335333573466e1c00920020c0010bf0114800854cd4ccd5cd19b8700248010300042fc04520021330010023370066e0c009200448008c8004d54310048894cd4ccd5cd19b880010020c2010c1011330030013370666e00cdc1802000800a4008200466e00cdc12800a80099b823370466e08cdc12401066e0520a09c01005482827004010008cdc119b8148302e008014008cdc12400866e0520a09c0100513370466e0520c0b802004001500615335333509501508b0100901b133550ac013332001509d01011001010133550ac010113332001509d0101000153353332001508a01500350920113305a3306902350033332001509c0101401313306902350031355003222003135500222200213550012220011355335333508e01508401002014133355506600200a009133355506600100900a2223335550690030020012235500f222222223501e222235019222235040222232323253353308401330840133071002019330710010183308401533533320015089010075091011330840133088013306800a0073332001509b0100201233088013306800a0060011533533320015089010065091011330840133088013306800a0063332001509b0100101233088013306800a0070021330840133088013306800a007002330840133088013306800a00600133088013306800a5091010123308401333200150870100b0163308d01009015133335555094013305900f0023305900e0013305900d00300c1633508f013332001507600200d00c33508e013332001507500100d00b3306501f5034302f500513335038506f5001501f13030001302000313235001222200250011333502b503b00150125335350291223335502a2253353332001505700a3022002133004002001100100100316221533500110022216301f50103020500f1335507300c3021500113302300100c3355051018301e0023355050018301d0015335302a00b2100116130150013320015056004332001502700823232323500b22222350082222323232323232323232323232323305533330380110105007003330553332001505a0083302c00301633055330593303900b01448008cc154cc164cc0e400c051200233055330593303900b500733039003500733055323233355304c120013505850562350012233355304f120013505b50592350012233350012330624800000488cc18c0080048cc18800520000013355305312001235001223355080010023335001233553057120012350012233550840100235505800100122333555050066002001233553057120012350012233550840100235505700100133355504b061002001507b30265017330553305533041500a48000cc154cc105402520003305533041500248000cc154cc1054005200033042333200150483302a33320015048500208e0133320015048335505b304748000cc0a940094028038cc0a8ccc80054121400423804ccc80054120cd5416cc11d20003302a5001500900e33320015048333200150483332001504808e0108e01500a500933055323501a2222350042235007222235004225335333573466e3c02000825c042580454cd4ccd5cd19b8f007001097010960113500b2235007225335333573466e3c01000826c042680454cd4ccd5cd19b8f00300109b0109a011333573466e1c03802026c0426804426804426804425804425804ccd40bd40fc011405ccc154ccd40f54100cd5416c8004cc0c0cd4c17048004018068048c091405cc94cd4d40bc488ccd540c088d400888d400488894ccd4008401c8c8c8c8c8c8c8c8c8c854cd4ccccccd5d200511999ab9a3370e6aae7540292000233335573ea0144a11a0246666aae7d402894238048cccd55cfa805128478091999aab9f500a2509001233335573ea0144a1220246666aae7d402894248048cccd55cfa805128498091999aab9f500a2509401233335573e6ae89402c94cd4c144d5d0a80990a99a98291aba1501321533533505505735742a02642a66a6464646464646666666ae900188cccd5cd19b875002480108cccd55cfa803128508091999aab9f5005250a201233335573e6ae89401894cd4c8c8c8c8ccccccd5d200211999ab9a3370e6aae7540112000233335573ea0084a1540246666aae7d4010942ac048cccd55cf9aba2500525335306c35742a00e42a66a60da6ae85401c84d42bc04cd542d004008004542b404542b004942b004308043040430004942a4042f804942a004942a004942a004942a0042f8044d5d1280089aab9e5001137540026ae854024854cd4c184d5d0a804109a853009984c808010008a852008a85180928518085c8085c0085b8091999ab9a3370ea006900111999aab9f5007250a201233335573ea00e4a1460246666aae7cd5d128041299a98309aba1500a215335306235742a014426a14e0266132020040022a14a022a148024a1480217402172021700246666ae68cdc3a8022400046666aae7d40209428c048cccd55cf9aba2500925335306135742a014426a14c026134020022a148024a1480217402172024a1440216e0216c0216a024a13e024a13e024a13e024a13e0216a0226aae7540104d5d1280109aba25001135573ca00226ea8004d5d0a80990a99a982b1aba15013215335305735742a02642a66a60b66ae85404c854cd4c170d5d0a809909a84f0099999999847808040038030028020018010008a84e008a84d808a84d008a84c808a84c008a84b808a84b008a84a809284a8085580855008548085400853808530085280852008518092846008508092845809284580928458092845808508090a99a999ab9a3371e6a002444444440029110e4d7565736c69537761705f414d4d000a00109f0113301501301210121011135744a00226ae8940044d5d1280089aba25001135744a00226ae8940044d5d1280089aab9e5001137540024201000201221160244211802a02e26607000401e26606e00201e603e002a66a6a054244666aa05644a66a6664002a0b060460040182a66a660b26607260440040109001099802001000880088008008018b110a99a8008801110b181028091810a808899aa83a00718110009981200180709981800100389981780080399aa82800b980e80119aa82780b980e000a99a9814805908008b0980a000999000a82a801999000a81300388390b09aab9d5002135573ca00226ea80048d4004888800c8d400488880108d40048888888888880148d40048888888888880288d40048888888888880208d40048888888888880308d4004880048d40048800488cdc080100091a8009100111191800801990009aa83291299a8008b1109a80111299a999ab9a3371e00400e0cc0ca2a66a6a014244666aa016446a00444a66a666ae68cdc3800a40040d80d626600c00800620060020062c4426a00444a66a006266aa0b6016004442c2600c006224464002640026aa0c844a66a00220064426600c00460080022466a002a098a09a24446a0044444a666a0042c4260100024642a66a6a00e444444444444601a0044260140022c640026aa0d044a66a0022a0a04426a00444a66a666ae68cdc780100383483409a82a800898030019119191919800a40009000190009aa831911299a999ab9a3370e0046e3401018418040044cc00ccdc00012400466e00cdc1000a41000866e38010008c004d400c88d4004888800cc8004d54184894cd400458884d4008894cd4ccd5cd19b8f002007062061153350011622135002225335003100222161300600323232323333333574800846666ae68cdc39aab9d5004480008cccd55cfa8021282591999aab9f50042504c233335573e6ae89401494cd4c030d5d0a80390a99a99a806119191919191999999aba400623333573466e1d40092002233335573ea00c4a0ae46666aae7d4018941608cccd55cfa8031282c91999aab9f35744a00e4a66a602e6ae854028854cd4c060d5d0a80510a99a980c9aba1500a213505e3330690030020011505c1505b1505a2505a07006f06e06d23333573466e1d400d2000233335573ea00e4a0b046666aae7cd5d128041299a980c1aba15009213505b3067001150592505906f06e2505706c06b2505525055250552505506b135573aa00826ae8940044d5d1280089aab9e5001137540026ae85401c84d4140cc13400800454138541349413418c1881849412817c9412494124941249412417c4d5d1280089aab9e50011375400246666666ae900049411494114941148d4118dd68011282282d8911919191999999aba400423333573466e1d40092000233335573ea0084a09446666aae7cd5d128029299a98049aba15006213504d3504d0011504b2504b06106023333573466e1d400d2002233335573ea00a46a098a0964a0960c24a0940be0bc4a0904a0904a0904a0900bc26aae7540084d55cf280089baa00123232323333333574800846666ae68cdc3a8012400446666aae7d4010941208cccd55cf9aba2500525335300935742a00c426a09660b20022a0924a0920be0bc46666ae68cdc3a801a400046666aae7d4014941248cccd55cf9aba2500625335300a35742a00e426a09860b60022a0944a0940c00be4a0900ba0b84a08c4a08c4a08c4a08c0b826aae7540084d55cf280089baa0012333333357480024a0844a0844a0844a08446a0866eb80081608d400488d4008888888888888cccd40349413c9413c9413c8c8c004038c8004d541a4894cd400454144884d4008894cd4cc05c00801c4d41580104c01800c894cd4ccd5cd19b8f350022200235001220020550541333573466e1cd400888004d400488004154150415088c8c888c8c8c8c94cd5400c54cd5401c4ccd5cd19b8750044802817016c540045400454cd540085400454cd540184ccd5cd19b8750034802016c1685400454cd5400454cd540144ccd5cd19b875002480281681644ccd5cd19b875002480301681644ccd5cd19b875002480281681644ccd5cd19b8933008002003480001601644cc88cccd54008c8cd40a088ccd407c00c004008d4070004cd409c888c00cc008004800488cdc0000a40040029000180c0900099804282400089a80191299a999ab9a3371e0040600ae0ac2a66a666ae68cdc780081802b82b082b8a8018a80189a80091299a999ab9a3371e00405e0ac0aa2666ae68cdc780081782b02a882a911a8009119191800803190009aa82d9119a800a4000446a00444a66a666ae68cdc780100482e02d8980380089803001990009aa82d1119a800a4000446a00444a66a666ae68cdc780100382d82d080089803001990009aa82a911299a80088011109a8011119803999804001003000801990009aa82a1111299a80088011109a80111299a999ab9a3370e002900002b82b0999804003803001899980400399a823199aaa8048038010008030018889110919980080200180109111a80091191a800911a80211919191912999aa999a80410a999a80390a999a805109802a4c26008930a999a804109802a4c2600893080c080b0a999a804909802a4c26008930a999a803909802a4c2600893080b8a999a8031080a880b080a0a999a80310a999a80490980324c2600a930a999a80390980324c2600a93080b880a8a999a80410980324c2600a930a999a80310980324c2600a93080b0a99a8038a99a800882d082d882d082d882d12999a80290a999a80410a999a80390999a8088080010008b0b0b080a8a999a80390a999a80310999a8080078010008b0b0b080a080992999a80210a999a80390a999a80310999a8080078010008b0b0b080a0a999a80310a999a80290999a8078070010008b0b0b0809880912999a80190a999a80310a999a80290999a8078070010008b0b0b08098a999a80290a999a80210999a8070068010008b0b0b0809080892999a80110a999a80290a999a80210999a8070068010008b0b0b08090a999a80210a999a80190999a8068060010008b0b0b0808880819a81b1a827802029091a8009111111100389191919191999ab9a3370e6aae75401120002333322221233330010050040030023335503275ceb8d5d0a802199aa8193ae75c6ae85400cdd69aba15002375a6ae84d5d1280111931902999ab9c054053051135744a00226ae8940044d55cf280089baa0011123333333300101a225335333573466e1c008004134130402054cd4ccd5cd19b8900200104d04c1006100722333573466e2000800413413001c00800c020894cd4ccd5cd19b8900200104d04c1002100122333573466e2400800412812c88ccd5cd19b8800200104904a12220031222002122200122333573466e24008004118114894cd4ccd5cd19b890020010450441001100212233704004002222444666aa600e24002a06666aa60162400246a0024466aa0700046aa018002666aa600e24002446a00444a66a666aa6010240026a01ca02046a002446601400400a00c2006266a06e008006a06800266aa60162400246a002446466aa072006600200a640026aa09844a66a00226aa01a0064426a00444a66a6601800401022444660040140082600c006004640026aa08a4422444a66a00226a00c006442666a01200a6008004666aa600e2400200a008002246a00244002246a00244004640026aa0844422444a66a00220044426600a004666aa600e2400200a00800222424446006008224244460020082466a01044666a006440040040026a00244002640026aa07c442244a66a0022a05a44266a05c600800466aa600c240020080022246600200407044a66a004207220022246600200406e44a66a0042002206c2466a00444666a006440040040026a0024400224424660020060042446a004446a006446466a00a466a0084a66a666ae68cdc780100081d81d0a801881d101d119a802101d1299a999ab9a3371e0040020760742a00620742a66a00642a66a0044266a004466a004466a004466a004466026004002407a466a004407a46602600400244407a44466a008407a444a66a666ae68cdc380300182001f8a99a999ab9a3370e00a00408007e26601e008002207e207e20702a66a00242070207044666ae68cdc38010008198190911a801111a80191299a99805802001099805801800881a88911801000990009aa81991091299a999ab9a33710002900001901889a802a481035054360015335002135005490103505437002215335333573466e1c00d200003403310021335300612001001337020069001091931901819ab9c0010302253350012153335003102e2102f2133005001002102e22333573466e3c0080040b40b08d400488008488cdc1801000899aa80c800800a4500122253353300300200110281029111122221233330010050040030021232323232323232323333573466e1cd55cea80424000466666666016602c6ae854020c058d5d0a80399a80c3ae35742a00c64646464646666ae68cdc3a800a4008466026666aa02aeb9d71aba15003375a6ae84d5d1280191999ab9a3370ea00490011198099bad35742a00a6eb4d5d09aba2500523333573466e1d400d200023016375a6ae84d55cf280391931901c19ab9c039038036035034135573aa00626aae7940084d55cf280089baa00135742a00a6eb4d5d0a8021bad35742a0066eb8d5d0a8011bae357426ae8940088c98c80c0cd5ce01881801709aba25001135744a00226ae8940044d5d1280089aba25001135744a00226aae7940044dd500091111111091999999980080480400380300280200180110911180180211091119801002802110911198008028020891119191999ab9a3370e6aae754009200023355016300635742a004600a6ae84d5d1280111931901399ab9c028027025135573ca00226ea8004488cdc00010008919191999ab9a3370e6aae7540092000233221233001003002323232323232323232323232323333573466e1cd55cea8062400046666666666664444444444442466666666666600201a01801601401201000e00c00a00800600466a02802a6ae854030cd4050054d5d0a80599a80a00b1aba1500a3335501d75ca0386ae854024ccd54075d7280e1aba1500833501402435742a00e666aa03a04aeb4d5d0a8031919191999ab9a3370e6aae75400920002332212330010030023232323333573466e1cd55cea8012400046644246600200600466a066eb4d5d0a801181a9aba135744a004464c6407266ae700e80e40dc4d55cf280089baa00135742a0046464646666ae68cdc39aab9d5002480008cd406ccd40cdd69aba150023035357426ae8940088c98c80e4cd5ce01d01c81b89aab9e5001137540026ae84d5d1280111931901a99ab9c036035033135573ca00226ea8004d5d0a80299a80a3ae35742a008666aa03a04240026ae85400cccd54075d710009aba150023023357426ae8940088c98c80c4cd5ce01901881789aba25001135744a00226ae8940044d5d1280089aba25001135744a00226ae8940044d5d1280089aba25001135744a00226aae7940044dd50009aba150023013357426ae8940088c98c808ccd5ce01201181089aab9e50011375400224424660020060042464460046eb0004c8004d5408488cccd55cf80092807919a80718021aba1002300335744004040464646666ae68cdc39aab9d5002480008cc8848cc00400c008c044d5d0a80118029aba135744a004464c6404066ae700840800784d55cf280089baa0012323232323333573466e1cd55cea8022400046666444424666600200a008006004600e6ae854010ccd54035d728061aba150033232323333573466e1d4005200423212223002004357426aae79400c8cccd5cd19b875002480088c84888c004010dd71aba135573ca00846666ae68cdc3a801a400042444006464c6404e66ae700a009c09409008c4d55cea80089baa00135742a00466a012eb8d5d09aba2500223263202133573804404203e26ae8940044d5d1280089aab9e500113754002464646666ae68cdc39aab9d5002480008cc014c054d5d0a80119a8030091aba135744a004464c6403c66ae7007c0780704d55cf280089baa00122123300100300212232323333573466e1d400520002350073005357426aae79400c8cccd5cd19b875002480089401c8c98c8078cd5ce00f80f00e00d89aab9d5001137540022424460040062244002266aa002eb9d6889119118011bab00132001355019223233335573e0044a010466a00e66aa012600c6aae754008c014d55cf280118021aba200301913574200222440042442446600200800622442466002006004464646666ae68cdc3a800a400c46424444600800a600e6ae84d55cf280191999ab9a3370ea004900211909111180100298049aba135573ca00846666ae68cdc3a801a400446424444600200a600e6ae84d55cf280291999ab9a3370ea00890001190911118018029bae357426aae7940188c98c805ccd5ce00c00b80a80a00980909aab9d500113754002464646666ae68cdc39aab9d5002480008cc8848cc00400c008c014d5d0a8011bad357426ae8940088c98c804ccd5ce00a00980889aab9e5001137540024646666ae68cdc39aab9d5001480008dd71aba135573ca004464c6402266ae7004804403c4dd5000919191919191999ab9a3370ea002900610911111100191999ab9a3370ea004900510911111100211999ab9a3370ea00690041199109111111198008048041bae35742a00a6eb4d5d09aba2500523333573466e1d40112006233221222222233002009008375c6ae85401cdd71aba135744a00e46666ae68cdc3a802a400846644244444446600c01201060186ae854024dd71aba135744a01246666ae68cdc3a8032400446424444444600e010601a6ae84d55cf280591999ab9a3370ea00e900011909111111180280418071aba135573ca018464c6403466ae7006c06806005c05805405004c0484d55cea80209aab9e5003135573ca00426aae7940044dd50009191919191999ab9a3370ea002900111998039bad35742a0086eb4d5d0a8019bad357426ae89400c8cccd5cd19b875002480008c024c028d5d09aab9e500623263201333573802802602202026aae75400c4d5d1280089aab9e5001137540024244600400644424466600200a008006464646666ae68cdc3a800a40044600a6eb8d5d09aab9e500323333573466e1d4009200023007375c6ae84d55cf280211931900719ab9c00f00e00c00b135573aa00226ea80048488c00800c8488c00400c488c8c8cccd5cd19b87500148010848880048cccd5cd19b875002480088d401cc018d5d09aab9e500423333573466e1d400d20002122200223263200d33573801c01a01601401226aae7540044dd500089091118018021191999ab9a3370ea0029001100291999ab9a3370ea0049000100291931900419ab9c009008006005135573a6ea800448800848800526120014910350543100482827004448c8c00400488cc00cc008008004cd4488cd4488ccccc00922011c909133088303c49f3a30f1cc8ed553a73857a29779f6c6561cd8093f0048811caf3d70acf4bd5b3abb319a7d75c89fb3e56eafcdd46b2e9b57a2557f0033550044891cde9b756719341e79785aa13c164e7fe68c189ed04d61c9876b2fe53f0048810e4d7565736c69537761705f414d4d0048811cb686e45c9181618e20e26cf0e2fc1e9f336bb0df914e645b5adad5bd0048811cf94fd008635cf307663aadd995ed69d5fbbfd65f84679fc38254d664002222212333330010060050040030022001112212330010030021120011"

data ScriptType =
  BatchOrderScript
  | FactoryMPS
  | LPMPS
  | NFTMPS
  | PoolScript (Either PairFromOutputError (Pair, Maybe (Lovelace, Quantity)))
  deriving stock (Eq, Ord, Show)

scriptTypes :: Map ScriptHash ScriptType
scriptTypes =
  let hsh script = C.hashScript (C.PlutusScript C.PlutusScriptV2 script) in
  Map.fromList
  $ fmap (first hsh)
  $ [ (batchOrderScript, BatchOrderScript)
    , (factoryMintingPolicy, FactoryMPS)
    , (lpMintingPolicy, LPMPS)
    , (nftMintingPolicy, NFTMPS)
    ]

scriptType :: C.TxOut C.CtxTx C.BabbageEra -> ScriptHash -> Maybe ScriptType
scriptType output sh = Map.lookup sh scriptTypes <|> getPoolScript output sh

psHash :: ScriptHash
psHash = C.hashScript (C.PlutusScript C.PlutusScriptV2 poolScript)

getPoolScript :: C.TxOut C.CtxTx C.BabbageEra -> ScriptHash -> Maybe ScriptType
getPoolScript output sh
  | sh == psHash = Just $ PoolScript $ pairFromOutput output
  | otherwise = Nothing
